<!-- get rid of this -->
<%- include("setup-locals-dependencies/pre-configurations/preconfigsURL") %>
<!-- get rid of this -->
<%- include("setup-locals-dependencies/pre-configurations/chopURL") %>
<%- include("setup-locals-dependencies/pre-configurations/declarePathParams") %>

<%if(locals.paths_URL!=null && locals.paths_URL[0] == 'articles'){%>
  <%- include("setup-locals-dependencies/setup-path-params/setupPathParams4articles") %> 
<%}%>
<%if(locals.paths_URL!=null && locals.paths_URL[0] == 'settings'){%>
  <%- include("setup-locals-dependencies/setup-path-params/setupPathParams4settings") %> 
<%}%>
<%if(locals.paths_URL!=null && locals.paths_URL[0] == 'operations'){%>
  <%- include("setup-locals-dependencies/setup-path-params/setupPathParams4operations") %>
<%}%>
<%if(locals.paths_URL!=null && locals.paths_URL[0] == 'currency'){%>
  <%- include("setup-locals-dependencies/setup-path-params/setupPathParams4databases") %>
<%}%>
<%if(locals.paths_URL!=null && locals.paths_URL[0] == 'make'){%>
  <%- include("setup-locals-dependencies/setup-path-params/setupPathParams4make") %>
<%}%>
<%if(locals.paths_URL!=null && locals.paths_URL[0] == 'marketplace'){%>
  <%- include("setup-locals-dependencies/setup-path-params/setupPathParams4marketplace") %>
<%}%>
<!-- < %if(locals.paths_URL!=null && locals.paths_URL[0] == 'users'){%>
  < %- include("setup-locals-dependencies/setup-path-params/setupPathParams4users") %>
< %}%> -->



<script>

  var userId
  var profileimagename

  var popup
  var currentUserEmail
  var currentUserName
  var userIdB
  var orderId
  var selectedUser
  var CATEGORY
  var domain_without_protocol
  var user
  var orderId
  var bidblock_email
  // var hash_of_user_to_reset_password




  switch (URL_) {
    case '/operations/articles-dashboard':
    case `/operations/monitor-messages/${caseUserID}/edit-see`:
    case '/currency/btclayerexchange':
    // case '/users/login':
    // case `/make/${caseOptionMakes}`:
      break;

    // case `/users/requestresetpasswordpage/${caseHex}`:
    //   hash_of_user_to_reset_password = '< %= locals.hash %>'
    //   console.log("------------->>>>", hash_of_user_to_reset_password)
    //   break;

    case '/users/login':
      popup = '<%= locals.popup %>'
      break;

    case '/subscription':
      bidblock_email = '<%-process.env.BIDBLOCK_EMAIL%>'
      console.log("------------->>>>", bidblock_email)
      break

    case '/':
      userId = '<%= locals.userId %>'
      popup = '<%= locals.popup %>'

      // if(`< %=locals.selectedUser%>`){
      //   selectedUser = < %-JSON.stringify(locals.selectedUser || {})%> 
      // }
      // selectedUser
      console.log("------------->>>>>>", userId)
      break;



    case '/users/profile':
      userId = '<%= locals.userId %>'
      profileimagename = '<%= locals.profileimagename %>'
      if(`<%=locals.selectedUser%>`){
        selectedUser = <%-JSON.stringify(locals.selectedUser || {})%> 
      }

      console.log("\nData 1: setup-locals.ejs: selectedUser:\n\n", selectedUser)
      console.log("\nData 2: setup-locals.ejs: profileimagename: ", profileimagename)
      console.log("\nData 3: setup-locals.ejs: userId: ", userId)

      break;


    case `/currency/btclayerexchange/${caseOptionBTClayerexchange}`:
      userId = '<%= locals.userId %>'
      console.log("------------->>>>>>", userId)
      break;

      
      

    case `/marketplace/${caseOptionMarketplace}`:
      userId = '<%= locals.userId %>'
      popup = '<%= locals.popup %>'
      user = <%-JSON.stringify(locals.user || {})%> 

      console.log("------------->>>>>>", userId, popup, user)
      break;
    case `/marketplace/${caseOptionMarketplace}/${caseOptionMarketplace2}`:
      userId = '<%= locals.userId %>'
      // orderId = '< %= locals.userId %>'
      user = <%-JSON.stringify(locals.user || {})%> 

      console.log("------------->>>>>>!!!", userId, user)
      break;





    case '/articles':
    case `/articles/${caseCategory}`:
    case `/articles/individual_article/${caseArticleID}`:
      CATEGORY = <%-JSON.stringify(locals.CATEGORY || {})%> 
      console.log(CATEGORY)
      break;
    



    case '/messaging':
      userId = '<%= locals.userId %>'
      currentUserEmail = '<%= locals.currentUserEmail  %>'
      currentUserName = '<%= locals.currentUserName  %>'
      user = <%-JSON.stringify(locals.user || {})%> 
      domain_without_protocol = '<%- process.env.DOMAIN_WITHOUT_PROTOCOL %>'


      userIdB = '<%= locals.userIdB  %>'
      orderId = '<%= locals.orderId  %>'

      console.log("--------------->>>>>>", userId, currentUserName, currentUserEmail, userIdB, orderId, user, domain_without_protocol)

      break;
    case '/messaging/messages':
      userId = '<%= locals.userId %>'
      currentUserEmail = '<%= locals.currentUserEmail  %>'
      currentUserName = '<%= locals.currentUserName  %>'
      user = <%-JSON.stringify(locals.user || {})%> 

      console.log("--------------->>>>>>", userId, currentUserName, currentUserEmail, user)
      break;



      case `/settings`:
        userId = '<%= locals.userId %>'
        user = <%-JSON.stringify(locals.user || {})%> 

        if(`<%=locals.selectedUser%>`){
          selectedUser = <%-JSON.stringify(locals.selectedUser || {})%> 
        }
        
        // console.log(`\n\n*** setup-locals.ejs ROUTE /settings----------->> userId, user, selectedUser`, userId, user, selectedUser)

        console.log(`\n\n*** setup-locals.ejs ROUTE /settings----------->> userId, selectedUser`, userId, selectedUser)
        break;

      case `/settings/${caseSettingsPage}`:
        userId = '<%= locals.userId %>'
        user = <%-JSON.stringify(locals.user || {})%> 

        if(`<%=locals.selectedUser%>`){
          selectedUser = <%-JSON.stringify(locals.selectedUser || {})%> 
        }

        // console.log(`\n\n*** setup-locals.ejs ROUTE /settings/${caseSettingsPage}----------->> userId, user, selectedUser`, userId, user, selectedUser)
        console.log(`\n\n*** setup-locals.ejs ROUTE /settings/${caseSettingsPage} ----------->> userId, selectedUser`, userId, selectedUser)
        break;





    case '/operations':
      // CATEGORY = < %-JSON.stringify(locals.CATEGORY || {})%> 
      userId = '<%= locals.userId %>'
      user = <%-JSON.stringify(locals.user || {})%> 
      console.log("--------------->>>>>>(1111)", user, userId, CATEGORY)
      break;
    case `/operations/${caseOperationsTask}`:
      user = <%-JSON.stringify(locals.user || {})%> 
      userId = '<%= locals.userId %>'

      if (caseOperationsTask == "create-article") {
        CATEGORY = <%-JSON.stringify(locals.CATEGORY || {})%> 
      }
      console.log("--------->>>>(2222)", user, CATEGORY, userId)

      break;
    case `/operations/${caseOperationsTask}/${caseUserID}`:
      userId = '<%= locals.userId %>'
      user = <%-JSON.stringify(locals.user || {})%> 
      
      if (caseOperationsTask == "help-for-market-orders") {
        popup = '<%= locals.popup %>'
      }

      if (caseOperationsTask == "manage-subs") {
        profileimagename = '<%= locals.profileimagename %>'
      }
      
      console.log("--------------->>>>>>(333)", user, userId, popup, profileimagename)

      break;
    default:
      break;
  }
</script>